\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[latin1]{inputenc}
\usepackage[russian]{babel}
\usepackage{graphicx}
\usepackage{url}
\graphicspath{ {pictures/} }
\begin{document}
\begin{center}
	Конспект лекций по операционным системам.
\end{center}
\section*{Базовые определения}
Прикладное ПО - это программы, выполняющие задачи, требуемые пользователю\\
Системное ПО - это программы, способствующие функционированию прикладных программ и упрощающие их разработку\\
Системное ПО - это операционные системы, драйверы и фреймворки\\
Драйвер - программа, управляющая работой периферийного устройства\\
Операционная система - это программа, обеспечивающая среду выполнения для других программ и облегчающая им доступ к устройствам, составляющим компьютер, процессору, жёсткому диску и т.д.  \\
Фреймворк - это программная среда специального назначения, используемая для того, чтобы упростить написание программ и облегчить объединение отдельных программных компонентов.\\
\section*{Услуги, предоставляемые ОС}
Упрощают использование аппаратных средств. Создаваемая ими виртуальная машина заметно отличается от реальной. ОС изолируют пользователей от аппаратной части компьютеров.\\
ОС обеспечивает распределение вычислительных ресурсов между программами.\\
Управляет файлами и папками. Для упрощения работы пользователей создаётся файловая система.\\
Предоставляет пользователю интерфейс для взаимодействия с программами и компьютером.\\
\section*{Интерфейс}
Интерфейс - набор средств, используемые для взаимодействия двух систем.\\
\section*{Типы интерфейсов}
Графический интерфейс. Управление осуществляется путём нажатия на различные виды кнопок, которые изображены на экране. \\
Интерфейс командной строки. Управление осуществляется путём набора текстовых команд.\\
Программный интерфейс. Через программный интерфейс программы взаимодействуют друг с другом. API - Application Programming Interface.\\
Голосовой интерфейс - команды даются с помощью голоса, речи.\\
Жестовый интерес - управление с помощью жестов: сенсорный экран, тачпад, джойстик, руль \\
Нейрокомпьютерный интерфейс - обмен данными между человеческим мозгом и электронным устройством осуществляется с помощью биологической обратной связи и встроенных электронных имплантов.\\
Аппаратный - предназначений для взаимодействия физических устройств друг с другом: тип разъёмов и параметры сигналов передаваемых через эти разъёмы.\\
\section*{Задание. Процесс.}
Задание - совокупности программы и входных данных, необходимых для её выполнения. \\
Процесс - экземпляр программы во время выполнения, независимый объект, которому выделены системные ресурсы, например, процессорное время и память. Каждый процесс выполняется в отдельном адресном пространстве. Один процесс не может получить доступ к данным другого процесса.\\
Понятие процесса включает:\\
1. Множество внешней по отношению к процессу информации, используемой ОС для управления ресурсом типа «процесс». Состав данной информации зависит от ОС.\\
2. Структура и содержимое адресного пространства процесса. Т.е. части памяти, выделенной процессу.\\
3. Множество ресурсов, принадлежащих процессу или используемых процессом, а также состояние этих ресурсов.\\
\section*{Архитектура ОС}
\setcounter{section}{1}
\subsection{Монолитная ОС}%
\setcounter{subsection}{1}
В монолитной ОС система организуется как набор процедур, каждую из которых может вызывать пользовательская программа. Вся ОС расположена в едином адресном пространстве. \\
Пользовательский режим - процесс не может получить доступ к чужой области памяти, не все инструкции процессора ему доступны. Поток, исполняющийся в пользовательском режиме, может получить доступ к системным ресурсам только посредством вызова системных сервисов. Когда программа пользовательского режима вызывает системный сервис, вызов перехватывается и вызывающий процесс переключается в режим ядра.\\
Режим ядра - привилегированный режим работы процессора, в котором исполняется код ОС. Поток, исполняющийся в режиме ядра, имеет доступ ко всей памяти и аппаратуре.\\
Системные сервисы - набор программ, которые перехватывают обращение прикладных программ к системным ресурсам. Когда выполнение системного сервиса завершается, ОС переключает поток обратно в пользовательский режим.\\
Привилегия - это свойство, устанавливаемое при проектировании системы, которое определяет, какие компьютерные операции разрешены, какие доступы к памяти законны. Привилегии испльзуются для обеспечения безопасности в компьютерной системе и повышения надёжности её работы.\\
Привилегии реализуются путём присвоения процессам значения от 0 до 3. Значение 0 соответствует наибольшим привилегиям, тогда как значение 3 - наименьшим.\\
Привилегии реализуются на уровне процессора.\\
\begin{center}
Достоинства монолитной ОС
\end{center}
1. Высокая скорость\\
2. Относительно простая разработка ОС:\\
\begin{center}
Недостатки:
\end{center}
1. Поскольку всё ядро работает в одном адресном пространстве, сбой в одном из компонентов может нарушить работоспособность всей системы.\\
2. Усовершенствование ОС затруднено, т.к. внесение изменений в одну часть ОС может потребовать внесение изменений в другие части ОС.\\
Примеры монолитных ОС: MS DOS, первые версии MacOS\\
\subsection{Модульная операционная система}
\setcounter{2}\\
Модульная ОС - это ОС, в которой каждый программный модуль (часть ОС) имеет законченное функциональное назначение с оговорёнными правилами взаимодействия. Все модули ОС равнозначны. В отличие от монолитной ОС, каждому модулю выделена своя область памяти. Все модули исполняются в режиме ядра.\\
\begin{center}
	Достоинства модульной ОС:
\end{center}
1. Упрощается усовершенствование ОС\\
2. Достаточно высокая надёжность ОС, т.к. сбой в одном модуле не влияет на другие\\
\begin{center}
	Недостатки модульной ОС:
\end{center}
1. Усложняется создание ОС\\
Модульную архитектуру имеет разновидность UNIX - FreeBSD.
Linux имеет монолитно-модульную архитектуру.
\subsection{Послойная ОС}
Достоинства:\\
1. упрощается усовершенствование ОС\\
2. Достаточно высокая надёжность ОС\\
Недостатки:\\
1. Уменьшение быстродействия ОС.\\
Частично послойную архитектуру имеет ОС Windows.
\subsection{Микроядерные ОС}
В сложном программном продукте в среднем содержится 10 ошибок на 1000 строк кода. Следовательно, монолитная операционная ОС, состоящая из 5000000 строк кода, скорее всего, содержит от 10000 до 50000 ошибок. Таким образом, для уменьшения количества ошибок надо уменьшать размер кода, работающего в привилегированном режиме.\\
MacOS X использует микроядерную архитектуру, которая основана на микроядре Mach. При этом используются некоторые модули, взятые из ОС FreeBSD.\\
Harmony OS - микроядерная ОС, устанавливается на смартфоны компании Huawei.\\
Микроядро MINIX 3 занимает всего лишь около 12000 строк кода на языке C и 1400 строк кода на ассемблере.\\
\begin{center}
	Достоинства микроядерной ОС:
\end{center}
1. Достаточно высокое быстродействие\\
2. Высокая надёжность. Микроядерную архитектуру используют ОС, работающие в реальном масштабе времени в промышленных устройствах, авиации и военной технике.\\
\begin{center}
	Недостатки микроядерной ОС:
\end{center}
1. Сложность разработки\\
2. При увеличении числа процессов значительно падает быстродействие, т.к. увеличивается число обращений к ядру.
\subsection{Клиент-серверная ОС}
Клиент-серверная ОС разделяет процессы на два типа:\\
1. Процесс сервера, каждый из которых предоставляет какую-нибудь службу\\
2. Процесс клиента, который пользуется этими службами.\\
Для свзяи клиентов с серверами используется ядро (микроядро).\\
Связь между клиентами и серверами организуется с помощью передачи сообщений следующим образом:\\
1. Клиентский процесс составляет сообщение, в котором говорится, что именно ему нужно, и отправляет его ядру или микроядру.\\
2. Ядро или микроядро ОС определяет, какой сервер должен ответить на сообщение, и доставляет сообщение серверу.\\
3. Служба выполняет определённую работу и отправляет обратно ответ.\\
4. Ядро возвращает клиенту результат в виде другого сообщения.\\
\section*{Требования к ОС}
\setcounter{section}{2}
Требования правительства США.
\subsection{Совместимость с POSIX}%
\setcounter{subsection}{6}
Lorem Ipsum
\subsection{Безопасность}%
\setcounter{subsection}{7}
Безопасность, то есть защита от несанкционированного доступа. Требования, выполнение которых делает систему многопользовательской.\\
А. Защита от несакционированного проникновения на компьютер.\\
Б. Защита ресурсов пользователя от других пользователей.\\
В. Возможность установления квот на системные ресурсы для предотвращения захвата одним пользователем всех системных ресурсов.\\
Г. Разграничение прав доступа пользователей к файлам и устройствам.\\
Д. Сохранение информации о действиях пользователей, связанных с безопасностью.\\
\section*{Особенности реализации ОС Windows}
\setcounter{section}{3}
\setcounter{subsection}{0}
\begin{center}	
	\includegraphics[scale=0.3]{1}
\end{center}
Ядро (kernel) - компонент операционной системы, непосредственно взаимодействующий с процессом и памятью. Выполняет планирование и переключение потоком, обработку прерываний и исключений, взаимодействие с драйверами и мультипроцессорную синхронизацию.\\
В Windows также реализована идея помещать в ядро исполнительный механизм, а не политику.\\
\subsection{Поток}%
В Windown - процесс не является испольняемой сущностью, т.е. непосредственно не выполняется процессором. Это некий объект, который характеризует задачу во время испольнения.\\
Исполняемая сущность внутри процесса - это поток выполнения (thread of execution).\\
Поток - это программа, выполняющаяся в адресном пространстве процесса и имеющая доступ ко всем ресурсам процесса. Каждый процесс должен содержать не менее одного потока. Как правило, в Windows процесс содержит несколько потоков.\\
Поток - это способ распараллеливания вычислительных операций и экономии памяти.\\
В то время как процесс - это логическое предстваление работы, которую должна выполнить программа, поток отображает одну из многих необходимых подзадач.\\
\subsection{Прерывания}
Прерывания (interrupt) - это запрос, поступающий от устройства ввода-вывода, исполняющейся программы или процессора с требованием прервать выполнение текущей программы и запустить на выполнение другую программу. Прерывания бывают внешние и внутренние.\\
Внешние прерывания являются внешними по отношению к процессору, поэтому так и называются. Внешние прерывания бывают друх типов: прерывания ввода-вывода и аппаратные прерывания.\\
Прерывания ввода-вывода создают переферийные устройства, которые сообщают, что они готовы выполнить операцию ввода или вывода. Для выполнения операции ввода-вывода надо прервать выполнение текущей программы и выполнить программу управления вводом-выводом. Программа, вызываемая при возникновении прерывания называется программонй обработки прерывания.\\
Аппаратные прерывания поступают в процессор от различных устройств компьютера и не связаны с вводом-выводом. Они сигнализируют о наступлении какого-нибудь события или об обнаружении сбоев в работе какого-нибудь устройства. В этом случае тоже вызывается соответсвтующая программа обработки прерывания.\\
Внутренние прерывания происходят внутри процессора и бывают двух типов:\\
Программными прерываниями считаются запросы со стороны программы на начало выполнения операции ввода-вывода или при обращении к функциям операционной системы.\\
Исключительные ситуации (исключения) возникают в тех случаях, когда процессор не в состоянии выполнить предусмотренное в программе действие, например, деление на ноль. В этом случае он прерывает выполнение программы и сообщает операционной системе о наличии исключительной ситуации, а также выдаёт необходимую дополнительную информацию, которая позволяет более точно определить причину её возникновения.\\
\begin{center}	
	Исключительные ситуации бывают следующих типов:\\
\end{center}
Деление на ноль\\
Пошаговая работа (трассировка)\\
Переполнение порядка при работе со знаковым операндом\\
Выход индекса за границу, т.е. обращение к области памяти не принадлежащей к данной программе. В этом случае выдаётся ошибка General Protection Fault. (Нарушения основной защиты)\\
Другие исключительные ситуации\\
\subsection{Уровень абстрагирования от оборудования}
Ядро осуществляет взаимодействие с устройствами, но не непосредственно, а через уровень абстрагирования от оборудования. Чтобы работа ядра не зависела от аппаратного обеспечения введён слой абстрагирования от оборудования HAL (Hardware Abstraction Layer).\\
В HAL входит загружаемый модуль режима ядра (\url{C:\Windows\System32\hal.dll}, предоставляющий низкоуровневый интерфейс с аппаратной платформой, на которой выполняется Windows. Он скрывает от ОС специфику конкретной аппаратной платформы, т.е. все функции, зависимые от архитектуры и от конкретной машины. Таким образом, ядро работает с некоей стандартизированной виртуальной машиной. HAL преобразует команды ядра в команды, понятные конкретному оборудованию.\\
Также в HAL входят драйверы различных переферийных устройств.\\
DLL (Dynamic Link Library) - динамически подключаемая библиотека, подпрограмма, позволяющая многократное использование различными программными приложениями. К DLL относятся разные программные компоненты и в частности драйверы.\\
В системах UNIX также используются библиотеки. Они имеют расширение .so (shared object).\\
\subsection{Исполнительная система}
Исполнительная система (executive system) - спроектирована как уровень абстрагирования от ядра. Она обеспечивает специфические политики для управления объектами, памятью, процессами, файлами и устройствами. Таким образом, ядро реализует механизм, а исполнительная система - политику.\\
Ядро и исполнительная система включаются в один исполняемый модуль NTOSKRNL.EXE.
\begin{center}
	\includegraphics[scale=0.3]{2}
\end{center}
\begin{center}
Основные модули исполнительной системы:
\end{center}
1. Диспетчер объектов (Object Manager).\\
2. Диспетчер процессов и потоков (Process and Thread Manager).\\
3. Диспетчер виртуальной памяти (Virtual Memory Manager).\\
4. Справочный монитор защиты (Security Reference Monitor).\\
5. Диспетчер ввода-вывода (I/O Manager).\\
6. Диспетчер кэша (Cache Manager).\\
7. Средство локального вызова процедур (Local Procedure Call).\\
\subsection{Подсистема}
Подсистема - это программный модуль, который выступает в качестве сервера. При помощи подсистем реализуется клиент-серверная архитектура.
\end{document}
